/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package GUI;

import DTO.Account;
import BUS.Book_BUS;
import BUS.ChiTietHoaDon_BUS;
import BUS.HoaDon_BUS;
import DTO.KhachHang;
import DTO.Staff;
import DTO.Supplier;
import DAL.Book_DAO;
import DTO.Book_DTO;
import DTO.ChiTietHoaDon_DTO;
import DTO.HoaDon_DTO;
import java.awt.BorderLayout;
import java.awt.Image;
import java.awt.event.KeyEvent;
import java.awt.image.BufferedImage;
import java.math.BigDecimal;
import java.text.DateFormat;
import java.text.DecimalFormat;
import java.text.NumberFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import javax.swing.text.BadLocationException;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.axis.CategoryAxis;
import org.jfree.chart.axis.NumberAxis;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.DefaultCategoryDataset;

/**
 *
 * @author Admin
 */
public class HomeStaff extends javax.swing.JFrame {

    //BIẾN:
    private float tongTienKhachMua = 0;

    LoginFRM log;
    BillCustomerDialog dialogThanhToan;
    SoLuongMuaSach dialogSoLuong;
    //PACKAGE
    Book_BUS empBUS = new Book_BUS();
    ChiTietHoaDon_BUS cthdBUS = new ChiTietHoaDon_BUS();
    HoaDon_BUS hdBus = new HoaDon_BUS();

    //gộm code
    private ArrayList<Account> accounts;
    private ArrayList<KhachHang> customers;
    private ArrayList<DTO.Staff> staffs;
    private ArrayList<DTO.Supplier> suppliers;
    private DAL.ReadDataFromSQL readData;
    //
    private ArrayList<Book_DTO> books;
    private ArrayList<ChiTietHoaDon_DTO> CTHDs;
    private ArrayList<HoaDon_DTO> HDs;

    // DAO.Book_DAO read = new Book_DAO();
    private DefaultTableModel model;

    /**
     * Creates new form OrderBook
     */
    public HomeStaff() {
        initComponents();

        this.setLocationRelativeTo(null);
        jTextField_GiaHienTai.setEditable(false);
        jTextField_TongTien.setEditable(false);
        books = new ArrayList<Book_DTO>();
        CTHDs = new ArrayList<ChiTietHoaDon_DTO>();
        HDs = new ArrayList<HoaDon_DTO>();
        books = empBUS.getAllEmployees();
        loadDataCTHD();
        loadDataHD();
        //     updateBookQuanaty();
        loadEmployeeList(books);
        loadDataFromSQL();
//       inDS();
//       for (Staff s : staffs) {
//           System.out.println(s.toString());
//        }
        model = (DefaultTableModel) tblBookBuy.getModel();
//        for(ChiTietHoaDon_DTO ds : CTHDs){
//                    System.out.println(ds.toString());
//                }
        createHDifIventOn();
        this.setPhimtat();

    }

    public HomeStaff(LoginFRM log) {
        this();
        this.log = log;
        loadInforManage(this.log.getAccPre());
        showBieuDo();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        sapXepGroup = new javax.swing.ButtonGroup();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel_HOME = new javax.swing.JPanel();
        jLabel27 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jPanel_BanSach = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblBook = new javax.swing.JTable();
        txt_fineSach = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        jComboBox_LuaChonSapXep = new javax.swing.JComboBox<>();
        jCheckBox1 = new javax.swing.JCheckBox();
        jCheckBox2 = new javax.swing.JCheckBox();
        jPanel4 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jTextField_Id = new javax.swing.JTextField();
        jTextField_Type = new javax.swing.JTextField();
        jTextField_NCC = new javax.swing.JTextField();
        jTextField_NameBook = new javax.swing.JTextField();
        jTextField_Author = new javax.swing.JTextField();
        jTextField_NumberOfBook = new javax.swing.JTextField();
        jTextField_Price = new javax.swing.JTextField();
        jDateChooser_DateCrate = new com.toedter.calendar.JDateChooser();
        jLabel10 = new javax.swing.JLabel();
        jButton5 = new javax.swing.JButton();
        hinhAnhSach = new javax.swing.JLabel();
        jButton6 = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblBookBuy = new javax.swing.JTable();
        jLabel11 = new javax.swing.JLabel();
        jButton_ThemSach = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jTextField_TongTien = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jTextField21 = new javax.swing.JTextField();
        jTextField_GiaHienTai = new javax.swing.JTextField();
        jPanel_ThongTin = new javax.swing.JPanel();
        panel_ThongTinHead = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        panel_ThongTinBody = new javax.swing.JPanel();
        jLabel13 = new javax.swing.JLabel();
        txt_IDNV = new javax.swing.JTextField();
        txtName = new javax.swing.JTextField();
        txtcccd = new javax.swing.JTextField();
        txtEmail = new javax.swing.JTextField();
        txtBankAccount = new javax.swing.JTextField();
        txtBankName = new javax.swing.JTextField();
        txt_namSinh = new javax.swing.JTextField();
        txtPhone = new javax.swing.JTextField();
        txt_ngayVao = new javax.swing.JTextField();
        txt_gioiTinh = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        txtAddress = new javax.swing.JTextArea();
        jLabel25 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        txtPosition = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        txtAccount = new javax.swing.JTextField();
        txtPass = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        jLabel30 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jPanel6 = new javax.swing.JPanel();
        jLabel29 = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        pandoanhThu = new javax.swing.JPanel();
        jButton2 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);

        jTabbedPane1.setBackground(new java.awt.Color(102, 255, 204));
        jTabbedPane1.setForeground(new java.awt.Color(255, 255, 255));
        jTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);
        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 1, 36)); // NOI18N
        jTabbedPane1.setInheritsPopupMenu(true);
        jTabbedPane1.setName(""); // NOI18N
        jTabbedPane1.setOpaque(true);

        jPanel_HOME.setBackground(new java.awt.Color(0, 153, 255));

        jLabel27.setFont(new java.awt.Font("Tahoma", 1, 48)); // NOI18N
        jLabel27.setForeground(new java.awt.Color(255, 255, 255));
        jLabel27.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel27.setText("ĐẾN CỬA HÀNG SÁCH ");

        jLabel28.setFont(new java.awt.Font("Tahoma", 1, 48)); // NOI18N
        jLabel28.setForeground(new java.awt.Color(255, 255, 255));
        jLabel28.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel28.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/BOOKSTORE.png"))); // NOI18N
        jLabel28.setText("CHÀO MỪNG");

        javax.swing.GroupLayout jPanel_HOMELayout = new javax.swing.GroupLayout(jPanel_HOME);
        jPanel_HOME.setLayout(jPanel_HOMELayout);
        jPanel_HOMELayout.setHorizontalGroup(
            jPanel_HOMELayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel_HOMELayout.createSequentialGroup()
                .addGap(325, 325, 325)
                .addGroup(jPanel_HOMELayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel28, javax.swing.GroupLayout.PREFERRED_SIZE, 594, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 594, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(325, 325, 325))
        );
        jPanel_HOMELayout.setVerticalGroup(
            jPanel_HOMELayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_HOMELayout.createSequentialGroup()
                .addGap(50, 50, 50)
                .addComponent(jLabel28, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(422, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("TRANG CHỦ", jPanel_HOME);

        jPanel_BanSach.setBackground(new java.awt.Color(0, 153, 255));

        jPanel2.setBackground(new java.awt.Color(0, 153, 255));

        jScrollPane2.setBackground(new java.awt.Color(255, 255, 255));
        jScrollPane2.setForeground(new java.awt.Color(102, 102, 102));

        tblBook.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tblBook.setForeground(new java.awt.Color(102, 102, 102));
        tblBook.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "MÃ SÁCH", "TÊN SÁCH", "LOẠI SÁCH", "TÁC GIẢ", "GIÁ", "SỐ LƯỢNG", "NHÀ CUNG CẤP", "DATE CREATE"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblBook.setSelectionBackground(new java.awt.Color(0, 153, 255));
        tblBook.setSelectionForeground(new java.awt.Color(102, 102, 102));
        tblBook.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblBookMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tblBook);

        txt_fineSach.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txt_fineSach.setText("Tìm kiếm nhanh....");
        txt_fineSach.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_fineSachMouseClicked(evt);
            }
        });
        txt_fineSach.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_fineSachActionPerformed(evt);
            }
        });

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Tìm_Kiếm.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jComboBox_LuaChonSapXep.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jComboBox_LuaChonSapXep.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "MÃ SÁCH", "TÊN SÁCH", "GIÁ SÁCH", "TÁC GIẢ" }));
        jComboBox_LuaChonSapXep.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox_LuaChonSapXepActionPerformed(evt);
            }
        });

        sapXepGroup.add(jCheckBox1);
        jCheckBox1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jCheckBox1.setForeground(new java.awt.Color(255, 255, 255));
        jCheckBox1.setText("Tăng dần");
        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox1ActionPerformed(evt);
            }
        });

        sapXepGroup.add(jCheckBox2);
        jCheckBox2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jCheckBox2.setForeground(new java.awt.Color(255, 255, 255));
        jCheckBox2.setText("Giảm dần");
        jCheckBox2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox2ActionPerformed(evt);
            }
        });

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));

        jLabel2.setBackground(new java.awt.Color(255, 255, 255));
        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(0, 153, 255));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel2.setText("MÃ SÁCH:");

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(0, 153, 255));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText("LOẠI SÁCH:");

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(0, 153, 255));
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel4.setText("NCC:");

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(0, 153, 255));
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel5.setText("DATE CRATE:");

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(0, 153, 255));
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel6.setText("TÊN SÁCH:");

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(0, 153, 255));
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel7.setText("TÁC GIẢ:");

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(0, 153, 255));
        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel8.setText("SỐ LƯỢNG:");

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(0, 153, 255));
        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel9.setText("GIÁ:");

        jTextField_Id.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_Id.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_Id.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField_Id.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_IdActionPerformed(evt);
            }
        });

        jTextField_Type.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_Type.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_Type.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jTextField_NCC.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_NCC.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_NCC.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jTextField_NameBook.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_NameBook.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_NameBook.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jTextField_Author.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_Author.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_Author.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jTextField_NumberOfBook.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_NumberOfBook.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_NumberOfBook.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField_NumberOfBook.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextField_NumberOfBookKeyTyped(evt);
            }
        });

        jTextField_Price.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_Price.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_Price.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField_Price.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_PriceActionPerformed(evt);
            }
        });
        jTextField_Price.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextField_PriceKeyTyped(evt);
            }
        });

        jDateChooser_DateCrate.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jDateChooser_DateCrate.setForeground(new java.awt.Color(102, 102, 102));
        jDateChooser_DateCrate.setDateFormatString("dd-MM-yyyy");
        jDateChooser_DateCrate.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jDateChooser_DateCrate.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jDateChooser_DateCratePropertyChange(evt);
            }
        });

        jLabel10.setBackground(new java.awt.Color(0, 153, 255));
        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(255, 255, 255));
        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/BÁN HÀNG.png"))); // NOI18N
        jLabel10.setText("BÁN SÁCH");
        jLabel10.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jLabel10.setOpaque(true);

        jButton5.setBackground(new java.awt.Color(0, 153, 255));
        jButton5.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton5.setForeground(new java.awt.Color(255, 255, 255));
        jButton5.setText("TÌM KIẾM");
        jButton5.setBorder(null);
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        hinhAnhSach.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        hinhAnhSach.setText("Hình ảnh");
        hinhAnhSach.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jButton6.setBackground(new java.awt.Color(0, 153, 255));
        jButton6.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton6.setForeground(new java.awt.Color(255, 255, 255));
        jButton6.setText("RESET");
        jButton6.setBorder(null);
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(hinhAnhSach, javax.swing.GroupLayout.PREFERRED_SIZE, 185, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel4Layout.createSequentialGroup()
                        .addComponent(jTextField_Type, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(45, 45, 45)
                                .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextField_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jDateChooser_DateCrate, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_Id, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 12, Short.MAX_VALUE)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(jTextField_NumberOfBook, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_Author, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextField_NameBook, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextField_Price, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(22, 22, 22))))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jTextField_NameBook, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_Id, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(25, 25, 25)
                                .addComponent(jTextField_Author, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(50, 50, 50)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_Type, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(23, 23, 23)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_NumberOfBook, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextField_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jTextField_Price, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(18, 18, 18)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jDateChooser_DateCrate, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(hinhAnhSach, javax.swing.GroupLayout.PREFERRED_SIZE, 239, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(14, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jCheckBox1)
                    .addComponent(jCheckBox2))
                .addGap(18, 18, 18)
                .addComponent(jComboBox_LuaChonSapXep, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(txt_fineSach, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(30, 30, 30))
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(18, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton1)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txt_fineSach, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jComboBox_LuaChonSapXep, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jCheckBox1))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jCheckBox2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 219, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setEnabled(false);

        tblBookBuy.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tblBookBuy.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "MÃ", "TÊN SÁCH", "SL", "GIÁ", "THÀNH TIỀN", "IDCTHD"
            }
        ));
        tblBookBuy.setSelectionBackground(new java.awt.Color(0, 153, 255));
        tblBookBuy.setSelectionForeground(new java.awt.Color(102, 102, 102));
        jScrollPane1.setViewportView(tblBookBuy);
        if (tblBookBuy.getColumnModel().getColumnCount() > 0) {
            tblBookBuy.getColumnModel().getColumn(0).setMinWidth(50);
            tblBookBuy.getColumnModel().getColumn(0).setPreferredWidth(50);
            tblBookBuy.getColumnModel().getColumn(0).setMaxWidth(50);
            tblBookBuy.getColumnModel().getColumn(1).setMinWidth(150);
            tblBookBuy.getColumnModel().getColumn(1).setPreferredWidth(150);
            tblBookBuy.getColumnModel().getColumn(1).setMaxWidth(150);
            tblBookBuy.getColumnModel().getColumn(2).setMinWidth(50);
            tblBookBuy.getColumnModel().getColumn(2).setPreferredWidth(50);
            tblBookBuy.getColumnModel().getColumn(2).setMaxWidth(50);
            tblBookBuy.getColumnModel().getColumn(3).setMinWidth(70);
            tblBookBuy.getColumnModel().getColumn(3).setPreferredWidth(70);
            tblBookBuy.getColumnModel().getColumn(3).setMaxWidth(70);
            tblBookBuy.getColumnModel().getColumn(4).setPreferredWidth(100);
            tblBookBuy.getColumnModel().getColumn(5).setMinWidth(0);
            tblBookBuy.getColumnModel().getColumn(5).setPreferredWidth(0);
            tblBookBuy.getColumnModel().getColumn(5).setMaxWidth(0);
        }

        jLabel11.setBackground(new java.awt.Color(0, 153, 255));
        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(255, 255, 255));
        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/LIST_ORDER.png"))); // NOI18N
        jLabel11.setText("DANH SÁCH ORDER");
        jLabel11.setToolTipText("");
        jLabel11.setOpaque(true);

        jButton_ThemSach.setBackground(new java.awt.Color(0, 153, 255));
        jButton_ThemSach.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton_ThemSach.setForeground(new java.awt.Color(255, 255, 255));
        jButton_ThemSach.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/THÊM_65.png"))); // NOI18N
        jButton_ThemSach.setText("THÊM");
        jButton_ThemSach.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_ThemSachActionPerformed(evt);
            }
        });

        jButton3.setBackground(new java.awt.Color(255, 0, 51));
        jButton3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton3.setForeground(new java.awt.Color(255, 255, 255));
        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/XÓA_35.png"))); // NOI18N
        jButton3.setText("XÓA");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(102, 102, 102));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("TỔNG TIỀN:");

        jTextField_TongTien.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_TongTien.setForeground(new java.awt.Color(102, 102, 102));
        jTextField_TongTien.setText("0");
        jTextField_TongTien.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        jTextField_TongTien.setEnabled(false);

        jButton4.setBackground(new java.awt.Color(0, 255, 0));
        jButton4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton4.setForeground(new java.awt.Color(255, 255, 255));
        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/thanh_TOÁN.png"))); // NOI18N
        jButton4.setText("THANH TOÁN");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel19.setForeground(new java.awt.Color(102, 102, 102));
        jLabel19.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel19.setText("THUẾ:");

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel20.setForeground(new java.awt.Color(102, 102, 102));
        jLabel20.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel20.setText("GIÁ:");

        jTextField21.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField21.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField21.setText("5%");
        jTextField21.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        jTextField21.setEnabled(false);

        jTextField_GiaHienTai.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTextField_GiaHienTai.setText("0");
        jTextField_GiaHienTai.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        jTextField_GiaHienTai.setEnabled(false);

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel11, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addComponent(jButton4)
                        .addContainerGap())
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGap(17, 17, 17)
                                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextField_TongTien, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField21, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField_GiaHienTai, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(76, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addComponent(jButton_ThemSach)
                        .addGap(93, 93, 93)
                        .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(26, 26, 26))))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 262, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_ThemSach, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_GiaHienTai, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField21, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_TongTien, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 58, Short.MAX_VALUE)
                .addComponent(jButton4, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel_BanSachLayout = new javax.swing.GroupLayout(jPanel_BanSach);
        jPanel_BanSach.setLayout(jPanel_BanSachLayout);
        jPanel_BanSachLayout.setHorizontalGroup(
            jPanel_BanSachLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_BanSachLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(15, 15, 15))
        );
        jPanel_BanSachLayout.setVerticalGroup(
            jPanel_BanSachLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel_BanSachLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel_BanSachLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel_BanSachLayout.createSequentialGroup()
                        .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        jTabbedPane1.addTab("BÁN SÁCH", jPanel_BanSach);

        jPanel_ThongTin.setBackground(new java.awt.Color(0, 153, 255));
        jPanel_ThongTin.setForeground(new java.awt.Color(102, 102, 102));
        jPanel_ThongTin.setPreferredSize(new java.awt.Dimension(1016, 589));

        panel_ThongTinHead.setBackground(new java.awt.Color(0, 153, 255));
        panel_ThongTinHead.setPreferredSize(new java.awt.Dimension(1004, 80));

        jLabel12.setBackground(new java.awt.Color(0, 153, 255));
        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(255, 255, 255));
        jLabel12.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel12.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/thông tin.png"))); // NOI18N
        jLabel12.setText("THÔNG TIN CỦA BẠN");
        jLabel12.setOpaque(true);

        javax.swing.GroupLayout panel_ThongTinHeadLayout = new javax.swing.GroupLayout(panel_ThongTinHead);
        panel_ThongTinHead.setLayout(panel_ThongTinHeadLayout);
        panel_ThongTinHeadLayout.setHorizontalGroup(
            panel_ThongTinHeadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel12, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 1247, Short.MAX_VALUE)
        );
        panel_ThongTinHeadLayout.setVerticalGroup(
            panel_ThongTinHeadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_ThongTinHeadLayout.createSequentialGroup()
                .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        panel_ThongTinBody.setBackground(new java.awt.Color(255, 255, 255));
        panel_ThongTinBody.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "THÔNG TIN CÁ NHÂN:", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 14), new java.awt.Color(0, 153, 255))); // NOI18N
        panel_ThongTinBody.setForeground(new java.awt.Color(102, 102, 102));

        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(0, 153, 255));
        jLabel13.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel13.setText("ID:");

        txt_IDNV.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txt_IDNV.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txt_IDNV.setEnabled(false);

        txtName.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtName.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtName.setEnabled(false);

        txtcccd.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtcccd.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtcccd.setEnabled(false);

        txtEmail.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtEmail.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtEmail.setEnabled(false);

        txtBankAccount.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtBankAccount.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtBankAccount.setEnabled(false);

        txtBankName.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtBankName.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtBankName.setEnabled(false);

        txt_namSinh.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txt_namSinh.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txt_namSinh.setEnabled(false);

        txtPhone.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtPhone.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtPhone.setEnabled(false);

        txt_ngayVao.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txt_ngayVao.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txt_ngayVao.setEnabled(false);

        txt_gioiTinh.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txt_gioiTinh.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txt_gioiTinh.setEnabled(false);

        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel14.setForeground(new java.awt.Color(0, 153, 255));
        jLabel14.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel14.setText("HỌ TÊN:");

        jLabel15.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel15.setForeground(new java.awt.Color(0, 153, 255));
        jLabel15.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel15.setText("EMAIL:");

        jLabel16.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(0, 153, 255));
        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel16.setText("PHONE:");

        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel17.setForeground(new java.awt.Color(0, 153, 255));
        jLabel17.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel17.setText("CCCD:");

        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel18.setForeground(new java.awt.Color(0, 153, 255));
        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel18.setText("NĂM SINH:");

        jLabel21.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel21.setForeground(new java.awt.Color(0, 153, 255));
        jLabel21.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel21.setText("TK NGÂN HÀNG:");

        jLabel22.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel22.setForeground(new java.awt.Color(0, 153, 255));
        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel22.setText("TÊN NGÂN HÀNG:");

        jLabel23.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel23.setForeground(new java.awt.Color(0, 153, 255));
        jLabel23.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel23.setText("NGÀY VÀO");

        jLabel24.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel24.setForeground(new java.awt.Color(0, 153, 255));
        jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel24.setText("ĐỊA CHỈ:");

        txtAddress.setColumns(20);
        txtAddress.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtAddress.setRows(5);
        txtAddress.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtAddress.setEnabled(false);
        jScrollPane3.setViewportView(txtAddress);

        jLabel25.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel25.setForeground(new java.awt.Color(0, 153, 255));
        jLabel25.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel25.setText("GIỚI TÍNH");

        jLabel31.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel31.setForeground(new java.awt.Color(0, 153, 255));
        jLabel31.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel31.setText("CHỨC VỤ");

        txtPosition.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtPosition.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtPosition.setEnabled(false);

        javax.swing.GroupLayout panel_ThongTinBodyLayout = new javax.swing.GroupLayout(panel_ThongTinBody);
        panel_ThongTinBody.setLayout(panel_ThongTinBodyLayout);
        panel_ThongTinBodyLayout.setHorizontalGroup(
            panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_ThongTinBodyLayout.createSequentialGroup()
                .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_ThongTinBodyLayout.createSequentialGroup()
                            .addContainerGap()
                            .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                            .addGap(211, 211, 211)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_ThongTinBodyLayout.createSequentialGroup()
                        .addGap(7, 7, 7)
                        .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txt_IDNV, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtBankAccount, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtcccd, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txt_gioiTinh, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(txt_ngayVao, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE)
                                .addComponent(txt_namSinh, javax.swing.GroupLayout.Alignment.LEADING)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 236, Short.MAX_VALUE)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel15, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED))
                    .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                        .addComponent(txtPosition, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(txtEmail)
                        .addComponent(txtName)
                        .addComponent(txtBankName)
                        .addComponent(txtPhone, javax.swing.GroupLayout.DEFAULT_SIZE, 200, Short.MAX_VALUE))
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34))
        );
        panel_ThongTinBodyLayout.setVerticalGroup(
            panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txt_IDNV, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtName, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txtcccd, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txtEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel15, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txtBankName, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txtBankAccount, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txt_namSinh, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txtPhone, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(txt_ngayVao, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txt_gioiTinh, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(panel_ThongTinBodyLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtPosition, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(panel_ThongTinBodyLayout.createSequentialGroup()
                        .addGap(178, 178, 178)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "THÔNG TIN TÀI KHOẢN", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 14), new java.awt.Color(0, 153, 255))); // NOI18N
        jPanel1.setForeground(new java.awt.Color(0, 153, 255));

        txtAccount.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtAccount.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtAccount.setEnabled(false);

        txtPass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        txtPass.setDisabledTextColor(new java.awt.Color(102, 102, 102));
        txtPass.setEnabled(false);

        jLabel26.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel26.setForeground(new java.awt.Color(0, 153, 255));
        jLabel26.setText("TÀI KHOẢN:");

        jLabel30.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel30.setForeground(new java.awt.Color(0, 153, 255));
        jLabel30.setText("MẬT KHẨU:");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel26)
                    .addComponent(jLabel30))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtAccount, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtPass, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(681, 681, 681))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtAccount, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtPass, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(17, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel_ThongTinLayout = new javax.swing.GroupLayout(jPanel_ThongTin);
        jPanel_ThongTin.setLayout(jPanel_ThongTinLayout);
        jPanel_ThongTinLayout.setHorizontalGroup(
            jPanel_ThongTinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_ThongTinLayout.createSequentialGroup()
                .addGroup(jPanel_ThongTinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_ThongTinLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(panel_ThongTinHead, javax.swing.GroupLayout.DEFAULT_SIZE, 1247, Short.MAX_VALUE))
                    .addGroup(jPanel_ThongTinLayout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(jPanel_ThongTinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(panel_ThongTinBody, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        jPanel_ThongTinLayout.setVerticalGroup(
            jPanel_ThongTinLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_ThongTinLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(panel_ThongTinHead, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(panel_ThongTinBody, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(90, Short.MAX_VALUE))
        );

        panel_ThongTinBody.getAccessibleContext().setAccessibleDescription("");

        jTabbedPane1.addTab("THÔNG TIN", jPanel_ThongTin);

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));

        jPanel6.setBackground(new java.awt.Color(0, 153, 255));

        jLabel29.setBackground(new java.awt.Color(0, 153, 255));
        jLabel29.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel29.setForeground(new java.awt.Color(255, 255, 255));
        jLabel29.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel29.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/icons8-statistics-80.png"))); // NOI18N
        jLabel29.setText("THÔNG KÊ DOANH THU");
        jLabel29.setOpaque(true);

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 1232, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel29, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DOANH THU", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 14), new java.awt.Color(0, 153, 255))); // NOI18N

        pandoanhThu.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        javax.swing.GroupLayout pandoanhThuLayout = new javax.swing.GroupLayout(pandoanhThu);
        pandoanhThu.setLayout(pandoanhThuLayout);
        pandoanhThuLayout.setHorizontalGroup(
            pandoanhThuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1190, Short.MAX_VALUE)
        );
        pandoanhThuLayout.setVerticalGroup(
            pandoanhThuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 526, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(pandoanhThu, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(37, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(pandoanhThu, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        jTabbedPane1.addTab("THÔNG KÊ", jPanel5);

        jButton2.setBackground(new java.awt.Color(255, 0, 0));
        jButton2.setFont(new java.awt.Font("Segoe UI", 0, 48)); // NOI18N
        jButton2.setText("NHẤP VÀO ĐÂY ĐỂ ĐĂNG XUẤT");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jTabbedPane1.addTab("Log Out", jButton2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane1)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox1ActionPerformed
        // TODO add your handling code here:
        loadEmployeeList(empBUS.sortUpIdEmployees(keySapXep));

    }//GEN-LAST:event_jCheckBox1ActionPerformed

    private void jTextField_PriceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_PriceActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField_PriceActionPerformed

    private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox2ActionPerformed
        // TODO add your handling code here:
        loadEmployeeList(empBUS.sortDownIdEmployees(keySapXep));
    }//GEN-LAST:event_jCheckBox2ActionPerformed

    private void jTextField_IdActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_IdActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField_IdActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        if (!txt_fineSach.getText().equals("Tìm kiếm nhanh....")) {

            try {
                String thongBao = "";
                String id = txt_fineSach.getText();
                if (loadFineEmployeeList(id)) {
                    thongBao = "Đã tìm thấy";
                } else {
                    thongBao = "Không tìm thấy! vui lòng nhập lại";
                }
                JOptionPane.showMessageDialog(this, thongBao);

            } catch (Exception e) {
                JOptionPane.showMessageDialog(this, "Thông tin không hợp lệ");
            }
        } else
            JOptionPane.showMessageDialog(this, "Bạn chưa nhâp dữ liệu!");
    }//GEN-LAST:event_jButton1ActionPerformed

    private void txt_fineSachActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_fineSachActionPerformed
        // TODO add your handling code here:
        // txt_fineSach.setText("");
    }//GEN-LAST:event_txt_fineSachActionPerformed

    private void txt_fineSachMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_fineSachMouseClicked
        // TODO add your handling code here:
        if (txt_fineSach.getText().equals("Tìm kiếm nhanh....")) {
            txt_fineSach.setText("");
        }

    }//GEN-LAST:event_txt_fineSachMouseClicked
    private String keySapXep = "ID";
    private void jComboBox_LuaChonSapXepActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox_LuaChonSapXepActionPerformed
        // TODO add your handling code here:
        if (jComboBox_LuaChonSapXep.getSelectedIndex() == 0) {
            // Chọn sắp xếp theo MANV
            sapXepGroup.clearSelection();
            keySapXep = "ID";
        } else if (jComboBox_LuaChonSapXep.getSelectedIndex() == 1) {
            // Chọn sắp xếp theo HOTENNV
            sapXepGroup.clearSelection();
            keySapXep = "NAME";
        } else if (jComboBox_LuaChonSapXep.getSelectedIndex() == 2) {
            // Chọn sắp xếp theo SDT
            sapXepGroup.clearSelection();
            keySapXep = "CAST(PRICE AS FLOAT)";
        } else {
            // Chọn sắp xếp theo GMAIL
            sapXepGroup.clearSelection();
            keySapXep = "AUTHOR";
        }
    }//GEN-LAST:event_jComboBox_LuaChonSapXepActionPerformed
    private boolean trangThaiChonSach = false;
    private void tblBookMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblBookMouseClicked
        // TODO add your handling code here:

        int i = tblBook.getSelectedRow();
        trangThaiChonSach = true;
        if (i >= 0) {
            jTextField_Id.setText(tblBook.getModel().getValueAt(i, 0).toString());
            jTextField_Id.setEditable(false);

            jTextField_NameBook.setText(tblBook.getModel().getValueAt(i, 1).toString());
            jTextField_NameBook.setEditable(false);

            jTextField_Author.setText(tblBook.getModel().getValueAt(i, 3).toString());
            jTextField_Author.setEditable(false);

            jTextField_NCC.setText(tblBook.getModel().getValueAt(i, 6).toString());
            jTextField_NCC.setEditable(false);

            jTextField_Type.setText(tblBook.getModel().getValueAt(i, 2).toString());
            jTextField_Type.setEditable(false);

            jTextField_Price.setText(tblBook.getModel().getValueAt(i, 4).toString());
            jTextField_Price.setEditable(false);

            jTextField_NumberOfBook.setText(tblBook.getModel().getValueAt(i, 5).toString());
            jTextField_NumberOfBook.setEditable(false);

            DateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
            Date dateCrate = null;
            try {
                String dateString = tblBook.getModel().getValueAt(i, 7).toString();// Replace with your date String variable
                dateCrate = dateFormat.parse(dateString);
            } catch (ParseException e) {
                e.printStackTrace();
            }
            jDateChooser_DateCrate.setDate(dateCrate);
            jDateChooser_DateCrate.setEnabled(false);
            for (Book_DTO b : books) {
//                System.out.println(b.getID());
                if (jTextField_Id.getText().equals(b.getID())) {

                    if (b.getSourceIMG().contains("/")) {
                        hinhAnhSach.setIcon(new ImageIcon(getClass().getResource(b.getSourceIMG())));
                    } else {
                        hinhAnhSach.setIcon(new ImageIcon(b.getSourceIMG()));
                    }

                }
            }

        }
    //    loadEmployeeList(books);


    }//GEN-LAST:event_tblBookMouseClicked

    private void jButton_ThemSachActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_ThemSachActionPerformed
        // TODO add your handling code here:
        if (trangThaiChonSach && !jTextField_Id.getText().equals("")) {
            dialogSoLuong = new SoLuongMuaSach(null, true, this);
            dialogSoLuong.setVisible(true);

            String id = jTextField_Id.getText();
            String name = jTextField_NameBook.getText();
//            String sl = dialogSoLuong.getSoLuong();
            String sl = "";
            String Price = jTextField_Price.getText();
//            float total=Float.parseFloat(sl)*Float.parseFloat(Price);
            float total = 0;
            String idCTHD = "";

            if (dialogSoLuong.isTrangThaiEvent()) {

                ChiTietHoaDon_DTO tmp = createCTHD("tmp");
                idCTHD = tmp.getID_CTHD();
                CTHDs.add(tmp);

                sl = dialogSoLuong.getSoLuong();
                total = Float.parseFloat(sl) * Float.parseFloat(Price);
                tongTienKhachMua = tongTienKhachMua + total;
                for (Book_DTO b : books) {
                    if (id.equals(b.getID())) {

                        Object[] row = {b.getID(), b.getName(), sl, formatTotalPrice(Float.parseFloat(b.getPrice())), formatTotalPrice(total), idCTHD};
                        model.addRow(row);

                    }
                }

            }

            float priceOfBook = tongTienKhachMua;
            float priceOfBookAfterVat = (float) (priceOfBook + priceOfBook * 0.05);
            jTextField_GiaHienTai.setText(formatTotalPrice(priceOfBook) + "");
            jTextField_TongTien.setText(formatTotalPrice(priceOfBookAfterVat) + "");

        } else {
            JOptionPane.showMessageDialog(null, "Bạn chưa chọn Sách!");
        }
    }//GEN-LAST:event_jButton_ThemSachActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
//        System.out.println("TRUOC KHI XOA");
//          for(ChiTietHoaDon_DTO ct:CTHDs){
//             System.out.println(ct.toString());
//            }
        deleteSelectedRow();
        //  float priceOfBook = getTotalPrice() ;  
        float priceOfBook = tongTienKhachMua;
        float priceOfBookAfterVat = (float) (priceOfBook + priceOfBook * 0.05);
        jTextField_GiaHienTai.setText(formatTotalPrice(priceOfBook) + "");
        jTextField_TongTien.setText(formatTotalPrice(priceOfBookAfterVat) + "");

//          System.out.println("SAU KHI XOA");
//          for(ChiTietHoaDon_DTO ct:CTHDs){
//             System.out.println(ct.toString());
//            }

    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        // TODO add your handling code here:
        if (!jTextField_Id.getText().equals("") || !jTextField_NameBook.getText().equals("") || !jTextField_Type.getText().equals("")
                || !jTextField_NCC.getText().equals("") || !jTextField_Author.getText().equals("")
                || !jTextField_NumberOfBook.getText().equals("") || !dateCreateTmp.equals("") || !jTextField_NumberOfBook.getText().equals("")) {
            String id = jTextField_Id.getText();
            String name = jTextField_NameBook.getText();

            String type = jTextField_Type.getText();

            String ncc = jTextField_NCC.getText();
            String author = jTextField_Author.getText();
            String quantity = jTextField_NumberOfBook.getText();
            String dateCreate = dateCreateTmp;
            String price = jTextField_Price.getText();
            ArrayList<Book_DTO> list = empBUS.findBooks(id, name, type, ncc, author, quantity, dateCreate, price);
            loadEmployeeList(list);
            for(Book_DTO b : list )
            {
                System.out.println(b.getID());;
            }
            
        } else {
            JOptionPane.showMessageDialog(this, "Bạn chưa nhâp dữ liệu!");
        }


    }//GEN-LAST:event_jButton5ActionPerformed
    String dateCreateTmp = "";
    private void jDateChooser_DateCratePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jDateChooser_DateCratePropertyChange
        // TODO add your handling code here:
        this.jDateChooser_DateCrate.setDateFormatString("yyyy-MM-dd");

        if ("date".equals(evt.getPropertyName())) {
            Date selectedDate = (Date) evt.getNewValue();
            SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
            String formattedDate = dateFormat.format(selectedDate);
            //ystem.out.println(formattedDate);
            dateCreateTmp = formattedDate;

        }
    }//GEN-LAST:event_jDateChooser_DateCratePropertyChange

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        // TODO add your handling code here:
        this.jTextField_Id.setText("");
        this.jTextField_Id.setEditable(true);

        this.jTextField_NameBook.setText("");
        this.jTextField_NameBook.setEditable(true);

        this.jTextField_NCC.setText("");
        this.jTextField_NCC.setEditable(true);

        this.jTextField_NumberOfBook.setText("");
        this.jTextField_NumberOfBook.setEditable(true);

        this.jTextField_Price.setText("");
        this.jTextField_Price.setEditable(true);

        this.jTextField_Author.setText("");
        this.jTextField_Author.setEditable(true);

        this.jTextField_Type.setText("");
        this.jTextField_Type.setEditable(true);

        this.jDateChooser_DateCrate.setEnabled(true);
        this.jDateChooser_DateCrate.setDateFormatString("");

        this.hinhAnhSach.setIcon(null);
        this.hinhAnhSach.setText("...");

        this.txt_fineSach.setText("Tìm kiếm nhanh....");
        this.sapXepGroup.clearSelection();

        this.jComboBox_LuaChonSapXep.setSelectedIndex(0);

        if (jTextField_GiaHienTai.getText().equals("0.0") && jTextField_TongTien.getText().equals("0.0")) {
            jTextField_GiaHienTai.setText("");
            jTextField_TongTien.setText("");
        }

        loadEmployeeList(books);
    }//GEN-LAST:event_jButton6ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        int soLuong = 0;
        dialogThanhToan = new BillCustomerDialog(null, true, this);
        if (tblBookBuy.getRowCount() != 0) {
            dialogThanhToan.setVisible(true);
        }

        if (dialogThanhToan.isTrangThaiEvent()) {

            //  System.out.println("hoatdoong");
            float priceOfBook = tongTienKhachMua;
            float priceOfBookAfterVat = (float) (priceOfBook + priceOfBook * 0.05);
            HoaDon_DTO tmp = createHD(txt_IDNV.getText(), dialogThanhToan.getIdKHmuaSach(), priceOfBookAfterVat);

            //đưa dữ liệu vào sql
            hdBus.addHD(tmp);

            HDs.add(tmp);
            updateIdHoaDonInCTHD(tmp.getID_HoaDon());
            for (ChiTietHoaDon_DTO ds : CTHDs) {
                if (ds.getID_Bill().equals(tmp.getID_HoaDon())) {
                    //đưa dữ liệu vào sql
                    cthdBUS.addCTHD(ds);
                    for (Book_DTO book : books) {
                        if (ds.getID_Book().equals(book.getID())) {
                            soLuong = Integer.parseInt(book.getQuanaty()) - ds.getQuantity();
                            book.setQuanaty("" + soLuong);
                            empBUS.updateBookQuanaty(book);

                        }
                    }
                }

            }
            clearTable(tblBookBuy);
            jTextField_GiaHienTai.setText("");
            jTextField_TongTien.setText("");
//            updateBookQuanaty();
            loadEmployeeList(books);
            JOptionPane.showMessageDialog(this, "ĐÃ THANH TOÁN THÀNH CÔNG");

        } else if (tblBookBuy.getRowCount() == 0) {
            JOptionPane.showMessageDialog(this, "BẠN CHƯA CHỌN SÁCH");
        } else {
            JOptionPane.showMessageDialog(this, "THANH TOÁN THẤT BẠI");
        }

    }//GEN-LAST:event_jButton4ActionPerformed

    private void jTextField_NumberOfBookKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField_NumberOfBookKeyTyped
        // TODO add your handling code here:
        char c = evt.getKeyChar();
        if (!(Character.isDigit(c) || c == '.')) {
            evt.consume();
        }
    }//GEN-LAST:event_jTextField_NumberOfBookKeyTyped

    private void jTextField_PriceKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField_PriceKeyTyped
        // TODO add your handling code here:
        char c = evt.getKeyChar();
        if (!(Character.isDigit(c) || c == '.')) {
            evt.consume();
        }
    }//GEN-LAST:event_jTextField_PriceKeyTyped

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        dispose();
        LoginFRM l = new LoginFRM();
        l.setVisible(true);
    }//GEN-LAST:event_jButton2ActionPerformed
    //boolean taoHD = false ;
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Metal".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(HomeStaff.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(HomeStaff.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(HomeStaff.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(HomeStaff.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                LoginFRM log = new LoginFRM();
                new HomeStaff(log).setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel hinhAnhSach;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton_ThemSach;
    private javax.swing.JCheckBox jCheckBox1;
    private javax.swing.JCheckBox jCheckBox2;
    private javax.swing.JComboBox<String> jComboBox_LuaChonSapXep;
    private com.toedter.calendar.JDateChooser jDateChooser_DateCrate;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel_BanSach;
    private javax.swing.JPanel jPanel_HOME;
    private javax.swing.JPanel jPanel_ThongTin;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextField jTextField21;
    private javax.swing.JTextField jTextField_Author;
    private javax.swing.JTextField jTextField_GiaHienTai;
    private javax.swing.JTextField jTextField_Id;
    private javax.swing.JTextField jTextField_NCC;
    private javax.swing.JTextField jTextField_NameBook;
    private javax.swing.JTextField jTextField_NumberOfBook;
    private javax.swing.JTextField jTextField_Price;
    private javax.swing.JTextField jTextField_TongTien;
    private javax.swing.JTextField jTextField_Type;
    private javax.swing.JPanel pandoanhThu;
    private javax.swing.JPanel panel_ThongTinBody;
    private javax.swing.JPanel panel_ThongTinHead;
    private javax.swing.ButtonGroup sapXepGroup;
    private javax.swing.JTable tblBook;
    private javax.swing.JTable tblBookBuy;
    private javax.swing.JTextField txtAccount;
    private javax.swing.JTextArea txtAddress;
    private javax.swing.JTextField txtBankAccount;
    private javax.swing.JTextField txtBankName;
    private javax.swing.JTextField txtEmail;
    private javax.swing.JTextField txtName;
    private javax.swing.JTextField txtPass;
    private javax.swing.JTextField txtPhone;
    private javax.swing.JTextField txtPosition;
    private javax.swing.JTextField txt_IDNV;
    private javax.swing.JTextField txt_fineSach;
    private javax.swing.JTextField txt_gioiTinh;
    private javax.swing.JTextField txt_namSinh;
    private javax.swing.JTextField txt_ngayVao;
    private javax.swing.JTextField txtcccd;
    // End of variables declaration//GEN-END:variables

    //CODE book
    public void loadEmployeeList(ArrayList<Book_DTO> books) {
        DefaultTableModel dtm = new DefaultTableModel();
        dtm.addColumn("MÃ SÁCH");
        dtm.addColumn("TÊN SÁCH");
        dtm.addColumn("LOẠI SÁCH");
        dtm.addColumn("TÁC GIẢ");
        dtm.addColumn("GIÁ");
        dtm.addColumn("SỐ LƯỢNG");
        dtm.addColumn("NHÀ CUNG CẤP");
        dtm.addColumn("DATE CREATE");

        tblBook.setModel(dtm);

        ArrayList<Book_DTO> arr = new ArrayList<Book_DTO>();
        //arr = empBUS.getAllEmployees();
        arr = books;
        int x =books.size();
        for (int i = 0; i < x; i++) {
            Book_DTO em = arr.get(i);
            String maSach = em.getID();
            String nameSach = em.getName();
            String theLoai = em.getType();
            String tacGia = em.getAuthor();
            String giaSach = em.getPrice();
            String soLuong = em.getQuanaty();
            String nhaCungCap = em.getID_SUPPLIER();
            String ngayTao = em.getDateCreate();

            Object[] row = {maSach, nameSach, theLoai, tacGia, giaSach, soLuong, nhaCungCap, ngayTao};
            dtm.addRow(row);
        }
    }

    public boolean loadFineEmployeeList(String id) {
        DefaultTableModel dtm = new DefaultTableModel();
        dtm.addColumn("MÃ SÁCH");
        dtm.addColumn("TÊN SÁCH");
        dtm.addColumn("LOẠI SÁCH");
        dtm.addColumn("TÁC GIẢ");
        dtm.addColumn("GIÁ");
        dtm.addColumn("SỐ LƯỢNG");
        dtm.addColumn("NHÀ CUNG CẤP");
        dtm.addColumn("DATE CREATE");
        tblBook.setModel(dtm);
//         tblBook.setModel(new DefaultTableModel() {
//        @Override
//        public boolean isCellEditable(int row, int column) {
//            return false;
//        }
//    });

        ArrayList<Book_DTO> arr = new ArrayList<Book_DTO>();
        arr = empBUS.findEmployeeById(id);
        if (arr.size() == 0) {
            return false;
        }
        for (int i = 0; i < arr.size(); i++) {
            Book_DTO em = arr.get(i);
            String maSach = em.getID();
            String nameSach = em.getName();
            String theLoai = em.getType();
            String tacGia = em.getAuthor();
            String giaSach = em.getPrice();
            String soLuong = em.getQuanaty();
            String nhaCungCap = em.getID_SUPPLIER();
            String ngayTao = em.getDateCreate();

            Object[] row = {maSach, nameSach, theLoai, tacGia, giaSach, soLuong, nhaCungCap, ngayTao};
            dtm.addRow(row);
        }
        return true;
    }

//    public void loadBookofBuy() {
//        DefaultTableModel dtm = new DefaultTableModel();
//        if (dtm.getColumnCount() == 0) {
//            dtm.addColumn("ID");
//            dtm.addColumn("NAME");
//            dtm.addColumn("SL");
//            dtm.addColumn("PRICE");
//
//        }
//        tblBookBuy.setModel(dtm);
//
////     ArrayList<Book_DTO> arr = new ArrayList<Book_DTO>();
////    //arr = empBUS.getAllEmployees();
////    arr = books ;
//        // for(int i = 0; i < arr.size(); i++){
////        String maSach = jTextField_Id.getText();
////        String nameSach = jTextField_NameBook.getText();
//        // String soLuong = jTextField_NumberOfBook.getText();
////       Book_DTO em = arr.get(i);
////       String maSach = em.getID();
////       String nameSach = em.getName();
////        String soLuong = dialogSoLuong.getSoLuong();
////        float priceOfBook ;
////        priceOfBook = Float.parseFloat(jTextField_Price.getText())*Float.parseFloat(dialogSoLuong.getSoLuong());
////        String gia = priceOfBook+"";  
////        Object[] row = {maSach,nameSach,soLuong,gia};
////        dtm.addRow(row);
//        //}
//        TableColumn column = tblBookBuy.getColumn("ID");
//        column.setPreferredWidth(50);
//
//        column = tblBookBuy.getColumn("NAME");
//        column.setPreferredWidth(100);
//
//        column = tblBookBuy.getColumn("SL");
//        column.setPreferredWidth(50);
//
//        column = tblBookBuy.getColumn("PRICE");
//        column.setPreferredWidth(100);
//    }
    public void deleteSelectedRow() {
        int selectedRow = tblBookBuy.getSelectedRow();
        if (selectedRow != -1) {
            DefaultTableModel model = (DefaultTableModel) tblBookBuy.getModel();
            // CẬP NHẤT GIÁ 
            //    for()

            //
            Iterator<ChiTietHoaDon_DTO> iterator = CTHDs.iterator();
            while (iterator.hasNext()) {
                ChiTietHoaDon_DTO ct = iterator.next();
                if (ct.getID_CTHD().equals(tblBookBuy.getModel().getValueAt(selectedRow, 5).toString())) {
                    tongTienKhachMua = tongTienKhachMua - ct.getTotal();
                    iterator.remove(); // Xóa phần tử bằng Iterator
                    //  System.out.println("Xóa thành công");
                }
            }

            model.removeRow(selectedRow);

        } else {
            JOptionPane.showMessageDialog(this, "Bạn chưa chọn dòng để xóa!");
        }
    }

    public float getTotalPrice() {
        float total = 0.0f;
        for (int i = 0; i < tblBookBuy.getRowCount(); i++) {
            total += Float.parseFloat(tblBookBuy.getValueAt(i, 4).toString());
        }
        return total;
    }

    // code cthd
    public ArrayList<ChiTietHoaDon_DTO> getArrayListCTHDReturn() {
        //   CTHDs = new ArrayList<ChiTietHoaDon_DTO>();
        //  CTHDs = cthdBUS.getAllCTHD();
        //  this.setCTHDs(CTHDs);
        return CTHDs;
    }

    public void getArrayListCTHD() {
        //  CTHDs = new ArrayList<ChiTietHoaDon_DTO>();
        //  CTHDs = cthdBUS.getAllCTHD();
        //this.setCTHDs(CTHDs);

    }

    //lấy id hiện tại cthd
    int count = 1000;

    public int getIdCthdAndUpdate() {
        int max = count;

        for (ChiTietHoaDon_DTO tmp : CTHDs) {
            //tmp.getID_CTHD()
            Integer giaTri = Integer.valueOf(tmp.getID_CTHD().substring(4));//CTHD1001
            if (max < giaTri) {
                max = giaTri;
            }
        }
        max += 1;
        return max;
    }

    public ChiTietHoaDon_DTO createCTHD() {
        ChiTietHoaDon_DTO tmp = new ChiTietHoaDon_DTO();
        tmp.setID_CTHD("CTHD" + getIdCthdAndUpdate());
        tmp.setID_Book(jTextField_Id.getText());
        tmp.setID_Bill(idHD);
        tmp.setDateCreate(getDay());
        tmp.setPrice(jTextField_Price.getText());
        int soluong;
        soluong = Integer.parseInt(dialogSoLuong.getSoLuong());
        tmp.setQuantity(soluong);

        float total = Float.parseFloat(jTextField_Price.getText()) * soluong;
        tmp.setTotal(total);
        tmp.setState(true);
//        System.out.println(tmp.toString());
        return tmp;
    }

    public ChiTietHoaDon_DTO createCTHD(String idhoadontmp) {
        ChiTietHoaDon_DTO tmp = new ChiTietHoaDon_DTO();
        tmp.setID_CTHD("CTHD" + getIdCthdAndUpdate());
        tmp.setID_Book(jTextField_Id.getText());
        tmp.setID_Bill(idhoadontmp);
        tmp.setDateCreate(getDay());
        tmp.setPrice(jTextField_Price.getText());
        int soluong;
        soluong = Integer.parseInt(dialogSoLuong.getSoLuong());
        tmp.setQuantity(soluong);

        float total = Float.parseFloat(jTextField_Price.getText()) * soluong;
        tmp.setTotal(total);
        tmp.setState(true);
//        System.out.println(tmp.toString());
        return tmp;
    }

    //  load data
    public void loadDataCTHD() {
        CTHDs = cthdBUS.getAllCTHD();
    }

    public void loadDataHD() {
        HDs = hdBus.getAllHD();
    }

    public static String getDay() {
        Date d = new Date(System.currentTimeMillis());
        DateFormat df = new SimpleDateFormat();
        df = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        return df.format(d) + "";
    }

    public ArrayList<ChiTietHoaDon_DTO> getCTHDs() {
        return CTHDs;
    }

    public void setCTHDs(ArrayList<ChiTietHoaDon_DTO> CTHDs) {
        this.CTHDs = CTHDs;
    }

    // hóa đơn
    public ArrayList<HoaDon_DTO> getArrayListHDReturn() {
        return HDs;
    }

    private String idHD = "";

    public HoaDon_DTO createHD() {
        HoaDon_DTO tmp = new HoaDon_DTO();

        tmp.setID_HoaDon("HD" + getIdHdAndUpdate());
        idHD = tmp.getID_HoaDon();
        tmp.setID_Staff("MNG0003");
        tmp.setID_Customer("C002");
        tmp.setDateCreate(getDay());
        tmp.setTotal(0);
        tmp.setState(true);
        System.out.println(tmp.toString());
        return tmp;
    }

    public HoaDon_DTO createHD(String idStaff, String idCustomer, float Total) {
        HoaDon_DTO tmp = new HoaDon_DTO();

        tmp.setID_HoaDon("HD" + getIdHdAndUpdate());
        idHD = tmp.getID_HoaDon();
        tmp.setID_Staff(idStaff);
        tmp.setID_Customer(idCustomer);
        tmp.setDateCreate(getDay());
        tmp.setTotal(Total);
        tmp.setState(true);
        // System.out.println(tmp.toString());
        return tmp;
    }

    //lấy id hiện tại hd
    public int getIdHdAndUpdate() {
        int max = count;

        for (HoaDon_DTO tmp : HDs) {
            //tmp.getID_CTHD()
            Integer giaTri = Integer.valueOf(tmp.getID_HoaDon().substring(2));//HD1001
            if (max < giaTri) {
                max = giaTri;
            }
        }
        max += 1;
        return max;
    }

    public ArrayList<HoaDon_DTO> getHDs() {
        return HDs;
    }

    public void setHDs(ArrayList<HoaDon_DTO> HDs) {
        this.HDs = HDs;
    }

    public String getIdHD() {
        return idHD;
    }

    public void setIdHD(String idHD) {
        this.idHD = idHD;
    }

    //BOOKs
    public ArrayList<Book_DTO> getBooks() {
        return books;
    }

    public void setBooks(ArrayList<Book_DTO> books) {
        this.books = books;
    }

    public static void fixTongSoValue(JTable table) {
        for (int rowIndex = 0; rowIndex < table.getRowCount(); rowIndex++) {
            int soLuong = Integer.parseInt(table.getValueAt(rowIndex, 2).toString());
            BigDecimal gia = new BigDecimal(table.getValueAt(rowIndex, 3).toString());
            BigDecimal tongSo = gia.multiply(new BigDecimal(soLuong));
            if (tongSo.compareTo(new BigDecimal(Double.MAX_VALUE)) > 0) {
                tongSo = new BigDecimal(Double.MAX_VALUE);
            }
            table.setValueAt(tongSo.toString(), rowIndex, 4);
        }
    }

    private void createHDifIventOn() {
        // if(dialogThanhToan.get)

    }

    public void loadInforManage(Account accPre) {
        this.txtAccount.setText(accPre.getAccount());
        this.txtPass.setText(accPre.getPassword());
        if (accPre.getPosition().equals("Staff")) {
            this.txtPosition.setText("Nhân Viên");
        } else if (accPre.getPosition().equals("Stocker")) {
            this.txtPosition.setText("Thủ Kho");

        } else if (accPre.getPosition().equals("Manage")) {
            this.txtPosition.setText("Quản Lý");
        }
        Staff sta = new Staff();
        for (Staff s : staffs) {
            if (s.getAccount().getAccount().equals(accPre.getAccount())) {
                sta = s;
                break;
            }
        }
        this.txtAddress.setText(sta.getAddress());
        this.txtBankAccount.setText(sta.getBankAccount());
        this.txtBankName.setText(sta.getBankName());
        this.txtEmail.setText(sta.getEmail());
        this.txtName.setText(sta.getName());
        this.txtPhone.setText(sta.getPhone());
        this.txtcccd.setText(sta.getCCCD());
        this.txt_namSinh.setText(sta.getBirthDay());
        this.txt_ngayVao.setText(sta.getDateCreate());
        String sex = "";
        if (sta.getSex().trim().equals("1")) {
            sex = "Nam";
        } else {
            sex = "Nu";
        }
        this.txt_gioiTinh.setText(sex);
        this.txt_IDNV.setText(sta.getID());
    }

    private void loadDataFromSQL() {
        staffs = new ArrayList<Staff>();
        accounts = new ArrayList<Account>();
        customers = new ArrayList<KhachHang>();
        suppliers = new ArrayList<Supplier>();
        accounts = (ArrayList<Account>) readData.readAccount();
        customers = (ArrayList<KhachHang>) readData.readCustomer();
        staffs = (ArrayList<Staff>) readData.readStaff();
        suppliers = (ArrayList<Supplier>) readData.readSupplier();
    }

    public JTextField getTxt_IDNV() {
        return txt_IDNV;
    }

    public void setTxt_IDNV(JTextField txt_IDNV) {
        this.txt_IDNV = txt_IDNV;
    }

    public void updateIdHoaDonInCTHD(String idHoaDon) {
        for (ChiTietHoaDon_DTO ds : CTHDs) {
            if (ds.getID_Bill().equals("tmp")) {
                ds.setID_Bill(idHoaDon);
            }
        }

    }

    // clear bảng
    public void clearTable(JTable table) {
        DefaultTableModel model = (DefaultTableModel) table.getModel();
        model.setRowCount(0);
    }

    private String formatTotalPrice(float total) {
        DecimalFormat formatter = new DecimalFormat("###,###.##");
        return formatter.format(total);
    }

    public JTextField getjTextField_Price() {
        return jTextField_Price;
    }

    public void setjTextField_Price(JTextField jTextField_Price) {
        this.jTextField_Price = jTextField_Price;
    }

    public JTextField getjTextField_NumberOfBook() {
        return jTextField_NumberOfBook;
    }

    public void setjTextField_NumberOfBook(JTextField jTextField_NumberOfBook) {
        this.jTextField_NumberOfBook = jTextField_NumberOfBook;
    }

    public void inDS() {
        System.out.println("DANH SÁCH CHI TIẾT HÓA ĐƠN: \n");
        for (ChiTietHoaDon_DTO ct : CTHDs) {
            System.out.println(ct.toString());
        }
        System.out.println("DANH SÁCH SÁCH: \n");
        for (Book_DTO bo : books) {
            System.out.println(bo.toString());
        }
    }

    public void updateBookQuanaty() {
        int soLuong = 0;
        for (Book_DTO bo : books) {

            //System.out.println(bo.toString());
            for (ChiTietHoaDon_DTO ct : CTHDs) {
                if (bo.getID().equals(ct.getID_Book())) {
                    soLuong = Integer.parseInt(bo.getQuanaty()) - ct.getQuantity();
                    bo.setQuanaty("" + soLuong);
                    empBUS.updateBookQuanaty(bo);

                }
            }

        }
        loadEmployeeList(books);

    }

    public float getTongTienKhachMua() {
        return tongTienKhachMua;
    }

    public void setTongTienKhachMua(float tongTienKhachMua) {
        this.tongTienKhachMua = tongTienKhachMua;
    }

    public void createChartCot7(ArrayList<HoaDon_DTO> list, JPanel panel, String employeeID) {
        // Create a map to store the total revenue for each month
        Map<String, Double> monthRevenueMap = new HashMap<>();

        // Calculate the total revenue for each month in the same year for the specified employee
        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
        Calendar calendar = Calendar.getInstance();
        int currentYear = calendar.get(Calendar.YEAR);
        for (HoaDon_DTO hd : list) {
            try {
                Date date = dateFormat.parse(hd.getDateCreate());
                calendar.setTime(date);
                int year = calendar.get(Calendar.YEAR);
                if (year == currentYear && hd.getID_Staff().equals(employeeID)) { // Add condition to filter by employee ID
                    int month = calendar.get(Calendar.MONTH) + 1;
                    String key = year + "-" + month;
                    double thanhTien = (double) hd.getTotal();
                    if (monthRevenueMap.containsKey(key)) {
                        thanhTien += monthRevenueMap.get(key);
                    }
                    monthRevenueMap.put(key, thanhTien);
                }
            } catch (ParseException e) {
                e.printStackTrace();
            }
        }
        DefaultCategoryDataset dataset = new DefaultCategoryDataset();
        for (Map.Entry<String, Double> entry : monthRevenueMap.entrySet()) {
            String[] parts = entry.getKey().split("-");
            int year = Integer.parseInt(parts[0]);
            int month = Integer.parseInt(parts[1]);
            double revenue = entry.getValue();
            dataset.addValue(revenue, "Doanh thu", year + "-" + month);
        }

        // Create the chart
        JFreeChart chart = ChartFactory.createBarChart("Tổng doanh thu của nhân viên có mã: " + employeeID + " theo tháng ", "Tháng", "Doanh thu", dataset, PlotOrientation.VERTICAL, true, true, false);
        CategoryPlot plot = chart.getCategoryPlot();
        CategoryAxis categoryAxis = plot.getDomainAxis();
        NumberAxis numberAxis = (NumberAxis) plot.getRangeAxis();

        // Set the range of the y-axis to show more space above the highest value
        numberAxis.setRange(0, numberAxis.getUpperBound() * 1.2);

        // Set the y-axis format to show numbers instead of scientific notation
        NumberFormat format = NumberFormat.getNumberInstance();
        numberAxis.setNumberFormatOverride(format);

        ChartPanel chartPanel = new ChartPanel(chart);
        // chartPanel.setPreferredSize(new Dimension(500, 400));
        chartPanel.setPreferredSize(panel.getSize());
        panel.setLayout(new BorderLayout());
        panel.add(chartPanel, BorderLayout.CENTER);
        panel.revalidate();
        // ... rest of the code to create the chart using the monthRevenueMap
    }

    public void showBieuDo() {
        HDs = new ArrayList<>();
        HDs = hdBus.getAllHD();

        createChartCot7(HDs, pandoanhThu, txt_IDNV.getText());
    }

    public void setPhimtat() {
        jButton6.setMnemonic(KeyEvent.VK_R);
        jButton5.setMnemonic(KeyEvent.VK_K);
        jButton1.setMnemonic(KeyEvent.VK_ENTER);
        jButton_ThemSach.setMnemonic(KeyEvent.VK_T);
        jButton3.setMnemonic(KeyEvent.VK_X);
        jButton4.setMnemonic(KeyEvent.VK_H);
    }

}
